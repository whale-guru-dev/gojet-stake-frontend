(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[5,33],{"9JUT":function(e,n,t){"use strict";t.r(n),t.d(n,"ChainIds",(function(){return r})),t.d(n,"getNetworkByChainId",(function(){return N})),t.d(n,"default",(function(){return O}));var r,o=t("o0o1"),c=t.n(o),a=t("HaE+"),i=t("rePB"),s=t("q1tI"),l=t.n(s),u=t("/MKj"),m=t("X1fs"),b=t("mbH4"),f=t("yhap"),d=t("Xqnb"),h=t("cjZi"),_=l.a.createElement;function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){Object(i.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e[e.bscMainnet=56]="bscMainnet",e[e.bscTestnet=97]="bscTestnet",e.bbcMainnet="Binance-Chain-Tigris",e.bbcTestnet="Binance-Chain-Ganges",e[e.ethMainnet=1]="ethMainnet",e.ethMainnet2="0x01"}(r||(r={}));var N=function(e){var n="bsc-mainnet";switch(e){case r.bscMainnet:n="bsc-mainnet";break;case r.bscTestnet:n="bsc-testnet";break;case r.bbcMainnet:n="bbc-mainnet";break;case r.bbcTestnet:n="bbc-testnet";break;case r.ethMainnet:case r.ethMainnet2:n="eth-mainnet"}return n};function O(){var e=Object(u.d)(),n=Object(u.e)((function(e){return e.wallet}),u.c),t=Object(s.useMemo)((function(){var e=n.walletType,t=n.selectedAddress,r=n.chainId;return y(y({},n),{},{walletType:e,selectedAddress:t,prevChainId:r})}),[n]),o=Object(m.g)().reset,i=t.walletType,p=t.prevChainId,O=t.selectedAddress;return Object(s.useEffect)((function(){var n=setTimeout((function(){var n=window,t=n.BinanceChain,s=n.ethereum;null===t||void 0===t||t.on("connect",(function(n){var t=n.chainId;""!==i&&"binanceWallet"===i&&p!==t&&(h.a.info("BinanceChain connected"),e(Object(d.d)({chainId:t,network:N(t)})))})),null===t||void 0===t||t.on("accountsChanged",(function(n){h.a.info("BinanceChain accounts changed. New accounts are ",n),""!==i&&"binanceWallet"===i&&e(Object(d.e)({selectedAddress:n[0]}))})),null===t||void 0===t||t.on("disconnect",(function(){h.a.info("disconnected from extension wallet ")})),s&&(s.autoRefreshOnNetworkChange=!1,s.on("connect",(function(n){var t=n.chainId;""!==i&&"metamask"===i&&(h.a.info("MetaMask connected"),e(Object(d.d)({chainId:t,network:N(t)})))})),s.on("accountsChanged",(function(n){""!==i&&"metamask"===i&&(h.a.info("MetaMask accounts changed."),n.length>0?(e(Object(d.e)({selectedAddress:n[0]})),e(Object(d.d)({chainId:s.chainId,network:N(s.chainId)}))):(b.a.emit("wallet-disconnect"),e(Object(d.e)({selectedAddress:""})),e(Object(d.a)({account:{}})),e(Object(d.f)({walletType:""})),e(Object(f.e)()),e(Object(f.d)()),e(Object(d.d)({chainId:"",network:""}))))})),s.on("chainChanged",function(){var n=Object(a.a)(c.a.mark((function n(t){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(Object.values(r).filter((function(e){return Number(e)>0})).find((function(e){return e===Number(t)}))){n.next=8;break}return b.a.emit("wallet-disconnect"),e(Object(d.e)({selectedAddress:""})),e(Object(d.a)({account:{}})),e(Object(d.f)({walletType:""})),o(),n.abrupt("return");case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()))}),1e3);return function(){return clearTimeout(n)}}),[e,p,o,O,i]),_(l.a.Fragment,null)}},JgXI:function(e,n,t){"use strict";t.d(n,"a",(function(){return H}));var r=t("o0o1"),o=t.n(r),c=t("HaE+"),a=t("q1tI"),i=t.n(a),s=t("dDsW"),l=t("kriW"),u=t("eSiI"),m=t("p9jX"),b=t("/MKj"),f=t("X1fs"),d=t("9WwE"),h=t("nOHt"),_=t("e0ae"),p=t("TEHo"),y=t.n(p),N=t("Xqnb"),O=t("9JUT"),j=t("0b+E"),w=t("vOnD"),v=t("ufqH"),g=w.e.div.withConfig({displayName:"styled__Connection",componentId:"d27kb4-0"})(["display:flex;flex-direction:column;margin:-"," 0;"],(function(e){var n=e.theme;return Object(v.a)(n.honeycomb.size.small)})),k=Object(w.e)(u.i.BinanceChain).withConfig({displayName:"styled__BinanceChain",componentId:"d27kb4-1"})(["font-size:",";"],(function(e){var n=e.theme;return Object(v.a)(n.honeycomb.size.increased)})),C=Object(w.e)(u.i.WalletConnectColor).withConfig({displayName:"styled__Wallet",componentId:"d27kb4-2"})(["font-size:",";"],(function(e){var n=e.theme;return Object(v.a)(n.honeycomb.size.large)})),x=w.e.div.withConfig({displayName:"styled__TypeName",componentId:"d27kb4-3"})(["font-size:",";"],(function(e){var n=e.theme;return Object(v.a)(n.honeycomb.size.reduced)})),I=w.e.div.withConfig({displayName:"styled__ImgWrap",componentId:"d27kb4-4"})(["&,img{width:",";}"],(function(e){var n=e.theme;return Object(v.a)(n.honeycomb.size.increased)})),z=w.e.div.withConfig({displayName:"styled__Option",componentId:"d27kb4-5"})(["border-radius:",";padding:",";margin:"," 0;border:1px solid ","};text-align:center;display:flex;justify-content:space-between;align-items:center;transition:all 0.3s ease;background:",";position:",";","{fill:",";}","{fill:",";font-size:",";}","{opacity:",";}","{opacity:",";}&:hover{border-color:",";cursor:",";}"],(function(e){var n=e.theme;return Object(v.a)(n.honeycomb.size.tiny)}),(function(e){var n=e.theme;return Object(v.a)(n.honeycomb.size.normal)}),(function(e){var n=e.theme;return Object(v.a)(n.honeycomb.size.small)}),(function(e){var n=e.theme,t=e.active,r=e.comingSoon;return t?n.honeycomb.color.primary.normal:r?Object(v.e)(.7,n.honeycomb.color.bg.input.normal):n.honeycomb.color.bg.input.normal}),(function(e){var n=e.theme,t=e.active,r=e.comingSoon;return t?Object(v.e)(.9,n.honeycomb.color.primary.normal):r?Object(v.e)(.7,n.honeycomb.color.bg.input.normal):n.honeycomb.color.bg.input.normal}),(function(e){return e.active?"static":"relative"}),k,(function(e){return e.theme.honeycomb.color.primary.normal}),C,(function(e){return e.theme.honeycomb.color.primary.normal}),(function(e){var n=e.theme;return Object(v.a)(n.honeycomb.size.increased)}),x,(function(e){return e.comingSoon?.3:1}),I,(function(e){return e.comingSoon?.3:1}),(function(e){var n=e.theme;return e.comingSoon?"none":n.honeycomb.color.primary.normal}),(function(e){return e.comingSoon?"not-allowed":"pointer"})),M=(w.e.div.withConfig({displayName:"styled__Notice",componentId:"d27kb4-6"})(["color:",";font-size:",";margin-top:",";text-align:center;"],(function(e){return e.theme.honeycomb.color.text.masked}),(function(e){var n=e.theme;return Object(v.a)(n.honeycomb.size.small)}),(function(e){var n=e.theme;return Object(v.a)(n.honeycomb.size.normal,n.honeycomb.size.small)})),w.e.div.withConfig({displayName:"styled__ButtonWrap",componentId:"d27kb4-7"})(["font-size:",";margin-top:",";"],(function(e){var n=e.theme;return Object(v.a)(n.honeycomb.size.reduced)}),(function(e){var n=e.theme;return Object(v.a)(n.honeycomb.size.huge,n.honeycomb.size.reduced)}))),T=(w.e.div.withConfig({displayName:"styled__WarnMessage",componentId:"d27kb4-8"})(["color:",";font-size:",";text-align:center;margin-top:",";"],(function(e){return e.theme.honeycomb.color.danger.normal}),(function(e){var n=e.theme;return Object(v.a)(n.honeycomb.size.small)}),(function(e){var n=e.theme;return Object(v.a)(n.honeycomb.size.increased,n.honeycomb.size.small)})),w.e.div.withConfig({displayName:"styled__LoadingWrap",componentId:"d27kb4-9"})(["margin-left:",";"],(function(e){var n=e.theme;return Object(v.a)(n.honeycomb.size.micro,n.honeycomb.size.small)}))),E=w.e.div.withConfig({displayName:"styled__BadgeBox",componentId:"d27kb4-10"})([""]),W=w.e.div.withConfig({displayName:"styled__LeftSide",componentId:"d27kb4-11"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:center;flex:1;margin-right:",";"],(function(e){var n=e.theme;return Object(v.a)(n.honeycomb.size.normal)})),S=w.e.div.withConfig({displayName:"styled__ConnectionFailed",componentId:"d27kb4-12"})(["margin-top:",";color:",";text-align:center;font-size:",";"],(function(e){var n=e.theme;return Object(v.a)(n.honeycomb.size.increased,n.honeycomb.size.reduced)}),(function(e){return e.theme.honeycomb.color.danger.normal}),(function(e){var n=e.theme;return Object(v.a)(n.honeycomb.size.reduced)})),B="/opt/app/src/components/ConnectWalletModal/index.tsx",A=i.a.createElement,P=["iOS","Android OS","BlackBerry OS","Windows Mobile","Amazon OS"];function H(e){var n=e.onConnected,t=Object(h.useRouter)().query.wallet,r=Object(s.a)().formatMessage,p=Object(b.d)(),w=Object(a.useState)(!1),v=w[0],H=w[1],q=Object(a.useState)(""),D=q[0],X=q[1],J=Object(a.useState)(t||"binanceWallet"),L=J[0],F=J[1],U=Object(b.e)((function(e){return e.wallet})),K=U.isShowConnectModal,R=U.walletType,G=Object(f.g)(),Z=G.account,Q=G.connect,V=G.status,Y=G.reset,$=Object(_.a)(),ee=Object(a.useCallback)((function(){H(!1),p(Object(N.b)({isShowConnectModal:!1}))}),[p]),ne=Object(a.useCallback)(Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z&&Y(),!Object(d.d)()){e.next=12;break}return e.next=4,Object(d.e)();case 4:t=e.sent,p(Object(N.e)({selectedAddress:t})),p(Object(N.f)({walletType:"binanceWallet"})),n&&n(),H(!1),ee(),e.next=14;break;case 12:p(Object(N.c)({checkWalletInstalled:!1})),H(!1);case 14:case"end":return e.stop()}}),e)}))),[Z,Y,p,n,ee]),te=Object(a.useCallback)(Object(c.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H(!0),X(""),"binanceWallet"!==L){e.next=6;break}return j.a.event({category:"wallet",action:"connect_binancechainwallet"}),e.next=6,ne();case 6:if("metamask"!==L){e.next=26;break}return j.a.event({category:"wallet",action:"connect_metamask"}),e.next=10,y()();case 10:return t=e.sent,e.next=13,t.request({method:"eth_chainId",params:[]});case 13:if(r=e.sent,Object.values(O.ChainIds).filter((function(e){return Number(e)>0})).find((function(e){return e===Number(r)}))){e.next=20;break}return X("failed"),H(!1),Y(),e.abrupt("return");case 20:return e.next=22,Q("injected");case 22:p(Object(N.f)({walletType:"metamask"})),p(Object(N.d)({chainId:r,network:Object(O.getNetworkByChainId)(Number(r))})),n&&n(),ee();case 26:case"end":return e.stop()}}),e)}))),[L,ne,Q,p,n,ee,Y]),re=Object(a.useCallback)((function(){return!(!$||!$.os)&&P.some((function(e){return e===$.os}))}),[$]),oe=function(e){return function(){F(e)}};return Object(a.useEffect)((function(){function e(){return(e=Object(c.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=0,"metamask"!==R){e.next=18;break}if("connected"!==V){e.next=7;break}if(Z){e.next=5;break}return e.abrupt("return");case 5:p(Object(N.e)({selectedAddress:String(Z)})),v&&ee();case 7:if("error"!==V){e.next=18;break}if(!(n<=5)){e.next=14;break}return n++,e.next=12,Q("injected");case 12:e.next=18;break;case 14:X("failed"),H(!1),p(Object(N.f)({walletType:""})),Y();case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),K||X("")}),[Z,ee,Q,p,v,K,Y,L,V,R]),Object(a.useEffect)((function(){function e(){return(e=Object(c.a)(o.a.mark((function e(){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,"binanceWallet"===t&&(r=setInterval((function(){n++,Object(d.d)()&&(ne(),clearInterval(r)),n>5&&clearInterval(r)}),1500)),"metamask"===t&&(te(),p(Object(N.f)({walletType:t})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),K?A(u.k,{open:!0,onClose:ee,__self:this,__source:{fileName:B,lineNumber:204,columnNumber:5}},A(u.k.Header,{title:r({id:"operation.connect.wallet"}),__self:this,__source:{fileName:B,lineNumber:205,columnNumber:7}}),A(u.k.Content,{__self:this,__source:{fileName:B,lineNumber:206,columnNumber:7}},A(g,{__self:this,__source:{fileName:B,lineNumber:208,columnNumber:9}},A(z,{active:"metamask"===L,onClick:oe("metamask"),__self:this,__source:{fileName:B,lineNumber:209,columnNumber:11}},A(W,{__self:this,__source:{fileName:B,lineNumber:210,columnNumber:13}},A(x,{__self:this,__source:{fileName:B,lineNumber:211,columnNumber:15}},"MetaMask")),A(I,{__self:this,__source:{fileName:B,lineNumber:213,columnNumber:13}},A("img",{src:"".concat(m.a,"/images/swap/metamask.svg"),__self:this,__source:{fileName:B,lineNumber:214,columnNumber:15}}))),!re()&&A(z,{active:"binanceWallet"===L,onClick:oe("binanceWallet"),__self:this,__source:{fileName:B,lineNumber:219,columnNumber:13}},A(x,{__self:this,__source:{fileName:B,lineNumber:223,columnNumber:15}},"Binance Chain Wallet"),A(I,{__self:this,__source:{fileName:B,lineNumber:224,columnNumber:15}},A(k,{__self:this,__source:{fileName:B,lineNumber:225,columnNumber:17}}))),A(z,{comingSoon:!0,__self:this,__source:{fileName:B,lineNumber:230,columnNumber:11}},A(W,{__self:this,__source:{fileName:B,lineNumber:231,columnNumber:13}},A(x,{__self:this,__source:{fileName:B,lineNumber:232,columnNumber:15}},"WalletConnect"),A(E,{__self:this,__source:{fileName:B,lineNumber:233,columnNumber:15}},A(u.a,{variant:"primary",__self:this,__source:{fileName:B,lineNumber:234,columnNumber:17}},A(l.a,{id:"coming.soon",__self:this,__source:{fileName:B,lineNumber:235,columnNumber:19}})))),A(I,{__self:this,__source:{fileName:B,lineNumber:239,columnNumber:13}},A(C,{__self:this,__source:{fileName:B,lineNumber:240,columnNumber:15}})))),A(M,{__self:this,__source:{fileName:B,lineNumber:244,columnNumber:9}},A(u.b,{shape:"fill",size:"huge",variant:"primary",onClick:function(){te()},__self:this,__source:{fileName:B,lineNumber:245,columnNumber:11}},A(l.a,{id:"operation.connect.wallet",__self:this,__source:{fileName:B,lineNumber:253,columnNumber:13}}),v&&A(T,{__self:this,__source:{fileName:B,lineNumber:255,columnNumber:15}},A(u.j,{__self:this,__source:{fileName:B,lineNumber:256,columnNumber:17}})))),D&&A(S,{__self:this,__source:{fileName:B,lineNumber:263,columnNumber:11}},A(l.a,{id:"error.message.connection.fail",__self:this,__source:{fileName:B,lineNumber:264,columnNumber:13}})))):A(i.a.Fragment,null)}},TEHo:function(e,n,t){"use strict";e.exports=function({mustBeMetaMask:e=!1,silent:n=!1,timeout:t=3e3}={}){!function(){if("boolean"!==typeof e)throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if("boolean"!==typeof n)throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if("number"!==typeof t)throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}();let r=!1;return new Promise(o=>{function c(){if(r)return;r=!0,window.removeEventListener("ethereum#initialized",c);const{ethereum:t}=window;if(!t||e&&!t.isMetaMask){const r=e&&t?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum.";!n&&console.error("@metamask/detect-provider:",r),o(null)}else o(t)}window.ethereum?c():(window.addEventListener("ethereum#initialized",c,{once:!0}),setTimeout(()=>{c()},t))})}}}]);